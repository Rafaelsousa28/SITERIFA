<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RifaMax - Sua Sorte Come√ßa Aqui</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary-green: #00C851;
        --dark-green: #007E33;
        --light-green: #4CAF50;
        --black: #1a1a1a;
        --dark-gray: #2d2d2d;
        --white: #ffffff;
        --light-gray: #f5f5f5;
        --border-color: #e0e0e0;
        --danger: #dc3545;
        --warning: #ffc107;
        --info: #17a2b8;
        --orange: #ff9800;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, var(--black) 0%, var(--dark-gray) 100%);
        min-height: 100vh;
        color: var(--white);
        overflow-x: hidden;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Header */
    header {
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 2px solid var(--primary-green);
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        transition: all 0.3s ease;
    }

    nav {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        align-items: center;
        padding: 1rem 0;
        gap: 2rem;
    }

    .nav-left {
        display: flex;
        gap: 2rem;
        list-style: none;
    }

    .logo {
        font-size: 2rem;
        font-weight: 900;
        color: var(--primary-green);
        text-shadow: 0 2px 10px rgba(0, 200, 81, 0.3);
        text-align: center;
    }

    .nav-right {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
    }

    .nav-left a, .nav-right a {
        color: var(--white);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
        padding: 0.5rem 1rem;
        border-radius: 25px;
    }

    .nav-left a:hover, .nav-right a:hover {
        color: var(--primary-green);
        background: rgba(0, 200, 81, 0.1);
    }

    .contact-btn {
        background: var(--primary-green) !important;
        color: var(--white) !important;
        padding: 0.7rem 1.5rem !important;
        border-radius: 25px !important;
        font-weight: 600 !important;
        transition: all 0.3s ease !important;
    }

    .contact-btn:hover {
        background: var(--dark-green) !important;
        transform: translateY(-2px);
    }

    .login-btn, .logout-btn {
        background: transparent;
        border: 2px solid var(--primary-green);
        color: var(--primary-green);
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .login-btn:hover, .logout-btn:hover {
        background: var(--primary-green);
        color: var(--white);
    }

    /* Mobile Menu */
    .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        color: var(--white);
        font-size: 1.5rem;
        cursor: pointer;
        grid-column: 1;
    }

    .mobile-sidebar {
        position: fixed;
        top: 0;
        left: -300px;
        width: 300px;
        height: 100vh;
        background: var(--black);
        z-index: 2000;
        transition: left 0.3s ease;
        padding: 2rem;
        border-right: 2px solid var(--primary-green);
    }

    .mobile-sidebar.active {
        left: 0;
    }

    .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1500;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
    }

    .mobile-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .mobile-nav {
        list-style: none;
        margin-top: 2rem;
    }

    .mobile-nav li {
        margin-bottom: 1rem;
    }

    .mobile-nav a {
        color: var(--white);
        text-decoration: none;
        font-size: 1.1rem;
        font-weight: 500;
        display: block;
        padding: 0.5rem 0;
        border-bottom: 1px solid var(--dark-gray);
        transition: color 0.3s ease;
    }

    .mobile-nav a:hover {
        color: var(--primary-green);
    }

    .close-mobile-menu {
        background: none;
        border: none;
        color: var(--white);
        font-size: 1.5rem;
        float: right;
        cursor: pointer;
    }

    /* Page Content */
    .page-content {
        margin-top: 100px;
        min-height: calc(100vh - 200px);
    }

    .page {
        display: none;
        padding: 2rem 0;
    }

    .page.active {
        display: block;
    }

    .page-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--white);
        text-align: center;
        margin-bottom: 3rem;
        text-shadow: 0 2px 10px rgba(0, 200, 81, 0.3);
    }

    /* Home Page */
    .hero {
        padding: 4rem 0;
        text-align: center;
        color: var(--white);
    }

    .hero h1 {
        font-size: 3.5rem;
        font-weight: 900;
        margin-bottom: 1rem;
        text-shadow: 0 4px 20px rgba(0, 200, 81, 0.3);
        animation: fadeInUp 1s ease;
    }

    .hero p {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        opacity: 0.9;
        animation: fadeInUp 1s ease 0.2s both;
    }

    .cta-button {
        background: linear-gradient(45deg, var(--primary-green), var(--light-green));
        color: var(--white);
        padding: 1rem 2.5rem;
        border: none;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        box-shadow: 0 10px 30px rgba(0, 200, 81, 0.4);
        animation: fadeInUp 1s ease 0.4s both;
    }

    .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 40px rgba(0, 200, 81, 0.6);
    }

    /* Rifa Principal */
    .main-raffle {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        padding: 3rem 0;
        margin: 2rem 0;
    }

    .main-raffle-card {
        background: var(--white);
        color: var(--black);
        border-radius: 25px;
        padding: 3rem;
        max-width: 800px;
        margin: 0 auto;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
        border: 3px solid var(--primary-green);
        position: relative;
        overflow: hidden;
    }

    .main-raffle-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(90deg, var(--primary-green), var(--light-green));
    }

    .main-raffle-badge {
        background: var(--primary-green);
        color: var(--white);
        padding: 0.5rem 1.5rem;
        border-radius: 25px;
        font-weight: 700;
        font-size: 0.9rem;
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
    }

    .main-raffle-image {
        width: 100%;
        height: 300px;
        background: linear-gradient(45deg, var(--primary-green), var(--light-green));
        border-radius: 20px;
        margin-bottom: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 5rem;
        color: var(--white);
    }

    .main-raffle-title {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--black);
        margin-bottom: 1rem;
        text-align: center;
    }

    .main-raffle-price {
        font-size: 3rem;
        font-weight: 900;
        color: var(--primary-green);
        margin-bottom: 1.5rem;
        text-align: center;
    }

    /* Outras Campanhas */
    .other-campaigns {
        padding: 4rem 0;
    }

    .campaigns-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .campaign-card {
        background: var(--white);
        color: var(--black);
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        border: 2px solid transparent;
    }

    .campaign-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 30px 60px rgba(0, 200, 81, 0.2);
        border-color: var(--primary-green);
    }

    .campaign-card.finished {
        opacity: 0.8;
        border-color: var(--danger);
    }

    .campaign-card.finished::after {
        content: 'FINALIZADA';
        position: absolute;
        top: 20px;
        right: -30px;
        background: var(--danger);
        color: var(--white);
        padding: 0.3rem 3rem;
        font-weight: 700;
        font-size: 0.8rem;
        transform: rotate(45deg);
    }

    .campaign-image {
        width: 100%;
        height: 180px;
        background: linear-gradient(45deg, var(--primary-green), var(--light-green));
        border-radius: 15px;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
        color: var(--white);
    }

    .campaign-title {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--black);
        margin-bottom: 1rem;
    }

    .campaign-price {
        font-size: 1.8rem;
        font-weight: 800;
        color: var(--primary-green);
        margin-bottom: 1rem;
    }

    .campaign-info {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1.5rem;
        font-size: 0.9rem;
        color: #666;
    }

    .winner-info {
        background: rgba(220, 53, 69, 0.1);
        border: 1px solid var(--danger);
        border-radius: 10px;
        padding: 1rem;
        margin: 1rem 0;
        text-align: center;
    }

    .winner-info h4 {
        color: var(--danger);
        margin-bottom: 0.5rem;
    }

    .winner-number {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--danger);
    }

    .progress-bar {
        width: 100%;
        height: 10px;
        background: #f0f0f0;
        border-radius: 5px;
        overflow: hidden;
        margin-bottom: 1rem;
    }

    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--primary-green), var(--light-green));
        border-radius: 5px;
        transition: width 0.8s ease;
    }

    .buy-button {
        width: 100%;
        background: linear-gradient(45deg, var(--primary-green), var(--light-green));
        color: var(--white);
        border: none;
        padding: 1rem;
        border-radius: 15px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .buy-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 200, 81, 0.4);
    }

    .buy-button:disabled {
        background: #ccc;
        cursor: not-allowed;
    }

    /* User Info */
    .user-info {
        background: rgba(0, 200, 81, 0.1);
        border: 1px solid var(--primary-green);
        border-radius: 15px;
        padding: 1rem;
        margin: 1rem 0;
        text-align: center;
        display: none;
    }

    .user-info.active {
        display: block;
    }

    /* Admin Panel */
    .admin-panel {
        background: var(--white);
        color: var(--black);
        border-radius: 20px;
        padding: 2rem;
        margin: 2rem 0;
    }

    .admin-tabs {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        border-bottom: 2px solid var(--border-color);
        padding-bottom: 1rem;
    }

    .admin-tab {
        background: none;
        border: none;
        padding: 0.7rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
        color: #666;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 10px 10px 0 0;
    }

    .admin-tab.active {
        background: var(--primary-green);
        color: var(--white);
    }

    .admin-content {
        display: none;
    }

    .admin-content.active {
        display: block;
    }

    .admin-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: linear-gradient(45deg, var(--primary-green), var(--light-green));
        color: var(--white);
        padding: 1.5rem;
        border-radius: 15px;
        text-align: center;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    .admin-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
    }

    .admin-table th,
    .admin-table td {
        padding: 1rem;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
    }

    .admin-table th {
        background: var(--light-gray);
        font-weight: 600;
    }

    .status-badge {
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 600;
    }

    .status-active {
        background: rgba(0, 200, 81, 0.1);
        color: var(--dark-green);
    }

    .status-finished {
        background: rgba(220, 53, 69, 0.1);
        color: var(--danger);
    }

    /* Create Raffle Form */
    .create-raffle-form {
        background: var(--light-gray);
        border-radius: 15px;
        padding: 2rem;
        margin-top: 2rem;
    }

    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }

    /* Contact Form */
    .contact-form {
        background: var(--white);
        color: var(--black);
        border-radius: 20px;
        padding: 2rem;
        max-width: 600px;
        margin: 0 auto;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: var(--black);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
        width: 100%;
        padding: 1rem;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
        outline: none;
        border-color: var(--primary-green);
    }

    .form-group textarea {
        resize: vertical;
        min-height: 120px;
    }

    /* Winners Table */
    .winners-list {
        background: var(--white);
        color: var(--black);
        border-radius: 20px;
        padding: 2rem;
        margin: 2rem 0;
    }

    .winner-card {
        border: 2px solid var(--primary-green);
        border-radius: 15px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        background: rgba(0, 200, 81, 0.05);
    }

    .winner-prize {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--primary-green);
        margin-bottom: 0.5rem;
    }

    .winner-info {
        color: #666;
        font-size: 0.9rem;
    }

    /* Search Box */
    .search-box {
        background: var(--white);
        border-radius: 15px;
        padding: 2rem;
        margin: 2rem 0;
    }

    .search-input {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .search-input input {
        flex: 1;
        padding: 1rem;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        font-size: 1rem;
    }

    .search-btn {
        background: var(--primary-green);
        color: var(--white);
        border: none;
        padding: 1rem 2rem;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
    }

    .search-results {
        background: var(--light-gray);
        border-radius: 10px;
        padding: 1rem;
        display: none;
    }

    .search-results.active {
        display: block;
    }

    /* Terms */
    .terms-content {
        background: var(--white);
        color: var(--black);
        border-radius: 20px;
        padding: 2rem;
        line-height: 1.6;
    }

    .terms-content h3 {
        color: var(--primary-green);
        margin: 2rem 0 1rem 0;
    }

    /* Modal Styles */
    .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 3000;
    }

    .modal.active {
        display: flex;
    }

    .modal-content {
        background: var(--white);
        color: var(--black);
        padding: 2rem;
        border-radius: 20px;
        max-width: 500px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
    }

    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        border-bottom: 2px solid var(--primary-green);
        padding-bottom: 1rem;
    }

    .modal-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-green);
    }

    .close-modal {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--black);
    }

    /* Se√ß√£o de Descri√ß√£o e Regulamento */
    .description-section {
        background: var(--light-gray);
        border-radius: 15px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
    }

    .description-section h4 {
        color: var(--primary-green);
        margin-bottom: 1rem;
        font-size: 1.2rem;
        text-align: center;
    }

    .description-section p {
        color: #666;
        line-height: 1.6;
        text-align: center;
    }

    /* Se√ß√£o de Sele√ß√£o de Quantidade */
    .quantity-section {
        margin-bottom: 2rem;
    }

    .quantity-section h4 {
        color: #666;
        text-align: center;
        margin-bottom: 1rem;
        font-size: 0.9rem;
        text-transform: uppercase;
    }

    .quantity-buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0.5rem;
        margin-bottom: 1rem;
    }

    .quantity-btn-option {
        background: var(--white);
        border: 2px solid var(--border-color);
        padding: 0.8rem;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
    }

    .quantity-btn-option:hover {
        border-color: var(--primary-green);
        background: rgba(0, 200, 81, 0.05);
    }

    .quantity-btn-option.selected {
        background: var(--primary-green);
        color: var(--white);
        border-color: var(--primary-green);
    }

    .quantity-selector {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        margin: 1rem 0;
    }

    .quantity-btn {
        background: var(--primary-green);
        color: var(--white);
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .quantity-btn:hover {
        background: var(--dark-green);
    }

    .quantity-display {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--black);
        min-width: 80px;
        text-align: center;
        padding: 0.5rem 1rem;
        border: 2px solid var(--border-color);
        border-radius: 10px;
    }

    /* Ranking Section */
    .ranking-section {
        margin: 2rem 0;
    }

    .ranking-title {
        text-align: center;
        color: #666;
        text-transform: uppercase;
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
        font-weight: 600;
    }

    .ranking-list {
        display: flex;
        justify-content: space-around;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .ranking-item {
        text-align: center;
        flex: 1;
    }

    .ranking-medal {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }

    .ranking-name {
        font-weight: 600;
        color: var(--black);
        margin-bottom: 0.3rem;
    }

    .ranking-cotas {
        font-size: 0.9rem;
        color: #666;
    }

    .ranking-cotas strong {
        font-weight: 700;
        color: var(--black);
    }

    /* Cotas Premiadas */
    .awarded-cotas {
        background: rgba(255, 152, 0, 0.1);
        border: 2px solid var(--orange);
        border-radius: 15px;
        padding: 1.5rem;
        margin-top: 2rem;
    }

    .awarded-title {
        text-align: center;
        color: var(--orange);
        text-transform: uppercase;
        font-size: 0.9rem;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .awarded-list {
        display: grid;
        gap: 0.8rem;
    }

    .awarded-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.8rem;
        background: var(--white);
        border-radius: 10px;
    }

    .awarded-prize {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
    }

    .prize-label {
        background: var(--orange);
        color: var(--white);
        padding: 0.2rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
    }

    .cota-number {
        background: var(--light-gray);
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-weight: 600;
        color: var(--primary-green);
    }

    .cota-status {
        font-size: 0.8rem;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
    }

    .cota-available {
        background: rgba(0, 200, 81, 0.1);
        color: var(--dark-green);
    }

    .cota-sold {
        background: rgba(220, 53, 69, 0.1);
        color: var(--danger);
    }

    .user-tag {
        font-size: 0.9rem;
        color: #666;
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }

    /* Surprise Numbers Message */
    .surprise-message {
        background: rgba(0, 200, 81, 0.1);
        border: 2px solid var(--primary-green);
        border-radius: 15px;
        padding: 2rem;
        margin: 1rem 0;
        text-align: center;
    }

    .surprise-message h4 {
        color: var(--primary-green);
        margin-bottom: 0.5rem;
        font-size: 1.3rem;
    }

    .surprise-message p {
        color: #666;
        line-height: 1.6;
    }

    .surprise-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }

    /* Payment Success */
    .payment-success {
        background: rgba(0, 200, 81, 0.1);
        border: 2px solid var(--primary-green);
        border-radius: 15px;
        padding: 2rem;
        margin: 1rem 0;
        text-align: center;
    }

    .success-icon {
        font-size: 4rem;
        color: var(--primary-green);
        margin-bottom: 1rem;
    }

    .success-numbers {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        justify-content: center;
        margin: 1rem 0;
    }

    .success-number {
        background: var(--primary-green);
        color: var(--white);
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-size: 1.2rem;
        font-weight: 700;
    }

    /* Selected Numbers */
    .selected-numbers {
        background: var(--light-gray);
        border-radius: 10px;
        padding: 1rem;
        margin: 1rem 0;
        display: none;
    }

    .selected-numbers h4 {
        color: var(--primary-green);
        margin-bottom: 0.5rem;
    }

    .numbers-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .number-badge {
        background: var(--primary-green);
        color: var(--white);
        padding: 0.3rem 0.7rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
    }

    .payment-methods {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .payment-method {
        border: 2px solid var(--border-color);
        border-radius: 10px;
        padding: 1rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .payment-method:hover {
        border-color: var(--primary-green);
    }

    .payment-method.selected {
        border-color: var(--primary-green);
        background: rgba(0, 200, 81, 0.1);
    }

    .payment-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }

    .total-price {
        background: var(--primary-green);
        color: var(--white);
        padding: 1rem;
        border-radius: 10px;
        text-align: center;
        font-size: 1.2rem;
        font-weight: 700;
        margin: 1rem 0;
    }

    .submit-btn {
        width: 100%;
        background: var(--primary-green);
        color: var(--white);
        border: none;
        padding: 1rem;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .submit-btn:hover {
        background: var(--dark-green);
    }

    .submit-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
    }

    /* PIX Payment */
    .pix-info {
        display: none;
        text-align: center;
        padding: 1rem;
        background: var(--light-gray);
        border-radius: 10px;
        margin: 1rem 0;
    }

    .pix-info.active {
        display: block;
    }

    .pix-qr {
        width: 200px;
        height: 200px;
        background: var(--white);
        border: 2px solid var(--primary-green);
        border-radius: 10px;
        margin: 1rem auto;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
    }

    .pix-code {
        background: var(--white);
        border: 2px solid var(--primary-green);
        border-radius: 5px;
        padding: 0.5rem;
        font-family: monospace;
        font-size: 0.9rem;
        margin: 1rem 0;
        word-break: break-all;
    }

    .copy-btn {
        background: var(--primary-green);
        color: var(--white);
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 0.5rem;
    }

    /* Card Payment */
    .card-form {
        display: none;
    }

    .card-form.active {
        display: block;
    }

    .card-row {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 1rem;
    }

    /* Sales Details Modal */
    .sales-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
    }

    .sales-table th,
    .sales-table td {
        padding: 0.8rem;
        text-align: left;
        border-bottom: 1px solid var(--border-color);
    }

    .sales-table th {
        background: var(--light-gray);
        font-weight: 600;
    }

    .sales-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin: 1rem 0;
    }

    .summary-item {
        background: var(--light-gray);
        padding: 1rem;
        border-radius: 10px;
        text-align: center;
    }

    .summary-label {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.3rem;
    }

    .summary-value {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--primary-green);
    }

    /* Footer */
    footer {
        background: var(--black);
        color: var(--white);
        text-align: center;
        padding: 2rem 0;
        border-top: 2px solid var(--primary-green);
    }

    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .fade-in {
        animation: fadeInUp 0.8s ease;
    }

    /* Responsive */
    @media (max-width: 968px) {
        nav {
            grid-template-columns: auto 1fr auto;
        }
        
        .nav-left, .nav-right {
            display: none;
        }
        
        .mobile-menu-btn {
            display: block;
        }
        
        .logo {
            grid-column: 2;
        }
        
        .nav-right {
            grid-column: 3;
            display: flex;
        }
        
        .form-row {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .hero h1 {
            font-size: 2.5rem;
        }
        
        .main-raffle-title {
            font-size: 2rem;
        }
        
        .main-raffle-price {
            font-size: 2.5rem;
        }
        
        .campaigns-grid {
            grid-template-columns: 1fr;
        }
        
        .admin-stats {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .payment-methods {
            grid-template-columns: 1fr;
        }
        
        .card-row {
            grid-template-columns: 1fr;
        }
        
        .modal-content {
            width: 95%;
            padding: 1.5rem;
        }
        
        .search-input {
            flex-direction: column;
        }
        
        .quantity-buttons {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .ranking-list {
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .admin-tabs {
            flex-wrap: wrap;
        }
    }

    @media (max-width: 480px) {
        .container {
            padding: 0 10px;
        }
        
        .hero {
            padding: 2rem 0;
        }
        
        .hero h1 {
            font-size: 2rem;
        }
        
        .page-title {
            font-size: 2rem;
        }
        
        .admin-stats {
            grid-template-columns: 1fr;
        }
        
        nav {
            grid-template-columns: auto 1fr;
        }
        
        .nav-right {
            display: none;
        }
    }
</style>
</head>
<body>
<header>
    <nav class="container">
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
        
        <ul class="nav-left">
            <li><a href="#" onclick="showPage('home')">In√≠cio</a></li>
            <li><a href="#" onclick="showPage('winners')">Ganhadores</a></li>
            <li><a href="#" onclick="showPage('my-tickets')">Minhas Cotas</a></li>
            <li><a href="#" onclick="showPage('terms')">Termos de Uso</a></li>
        </ul>
        
        <div class="logo">üé≤ RifaMax</div>
        
        <div class="nav-right">
            <a href="#" onclick="showPage('contact')" class="contact-btn">Contato</a>
            <button class="login-btn" id="authBtn" onclick="openLoginModal()">Entrar</button>
        </div>
    </nav>
</header>

<!-- Mobile Sidebar -->
<div class="mobile-overlay" onclick="closeMobileMenu()"></div>
<div class="mobile-sidebar">
    <button class="close-mobile-menu" onclick="closeMobileMenu()">‚úï</button>
    <div class="logo" style="margin-bottom: 2rem;">üé≤ RifaMax</div>
    <ul class="mobile-nav">
        <li><a href="#" onclick="showPage('home'); closeMobileMenu()">In√≠cio</a></li>
        <li><a href="#" onclick="showPage('winners'); closeMobileMenu()">Ganhadores</a></li>
        <li><a href="#" onclick="showPage('my-tickets'); closeMobileMenu()">Minhas Cotas</a></li>
        <li><a href="#" onclick="showPage('terms'); closeMobileMenu()">Termos de Uso</a></li>
        <li><a href="#" onclick="showPage('contact'); closeMobileMenu()">Contato</a></li>
    </ul>
    <div style="margin-top: 2rem;">
        <button class="login-btn" onclick="openLoginModal(); closeMobileMenu();" style="width: 100%;" id="mobileAuthBtn">Entrar</button>
    </div>
</div>

<div class="page-content">
    <!-- HOME PAGE -->
    <div class="page active" id="home">
        <section class="hero">
            <div class="container">
                <h1>Sua Sorte Come√ßa Aqui!</h1>
                <p>Participe das melhores rifas online e concorra a pr√™mios incr√≠veis</p>
                
                <div class="user-info" id="userInfo">
                    <h3>Bem-vindo(a), <span id="userName"></span>!</h3>
                    <p>Email: <span id="userEmail"></span></p>
                    <button class="logout-btn" onclick="logout()">Sair</button>
                </div>
            </div>
        </section>

        <!-- Rifa Principal -->
        <section class="main-raffle">
            <div class="container">
                <h2 class="page-title">üî• Rifa Principal</h2>
                <div id="mainRaffleContainer">
                    <!-- Ser√° preenchido dinamicamente -->
                </div>
            </div>
        </section>

        <!-- Outras Campanhas -->
        <section class="other-campaigns">
            <div class="container">
                <h2 class="page-title">Outras Campanhas</h2>
                <div class="campaigns-grid" id="campaignsGrid">
                    <!-- Ser√° preenchido dinamicamente -->
                </div>
            </div>
        </section>
    </div>

    <!-- ADMIN PAGE -->
    <div class="page" id="admin">
        <div class="container">
            <h2 class="page-title">üîß Painel Administrativo</h2>
            
            <div class="admin-panel">
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="showAdminTab('dashboard')">Dashboard</button>
                    <button class="admin-tab" onclick="showAdminTab('raffles')">Gerenciar Rifas</button>
                    <button class="admin-tab" onclick="showAdminTab('sales')">Vendas</button>
                    <button class="admin-tab" onclick="showAdminTab('create')">Criar Nova Rifa</button>
                </div>

                <!-- Dashboard -->
                <div class="admin-content active" id="admin-dashboard">
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="totalSales">R$ 0</div>
                            <div class="stat-label">Vendas Totais</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalTickets">0</div>
                            <div class="stat-label">N√∫meros Vendidos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalCustomers">0</div>
                            <div class="stat-label">Clientes Ativos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="activeRaffles">0</div>
                            <div class="stat-label">Rifas Ativas</div>
                        </div>
                    </div>
                </div>

                <!-- Gerenciar Rifas -->
                <div class="admin-content" id="admin-raffles">
                    <h3>Rifas Ativas</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>T√≠tulo</th>
                                <th>Pre√ßo</th>
                                <th>Vendidos</th>
                                <th>Total</th>
                                <th>Arrecadado</th>
                                <th>Status</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="rafflesTableBody">
                            <!-- Ser√° preenchido dinamicamente -->
                        </tbody>
                    </table>
                </div>

                <!-- Vendas -->
                <div class="admin-content" id="admin-sales">
                    <h3>√öltimas Vendas</h3>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Data/Hora</th>
                                <th>Cliente</th>
                                <th>Rifa</th>
                                <th>N√∫meros</th>
                                <th>Valor</th>
                                <th>Pagamento</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="salesTableBody">
                            <!-- Ser√° preenchido dinamicamente -->
                        </tbody>
                    </table>
                </div>

                <!-- Criar Nova Rifa -->
                <div class="admin-content" id="admin-create">
                    <h3>Criar Nova Rifa</h3>
                    <form class="create-raffle-form" onsubmit="createRaffle(event)">
                        <div class="form-group">
                            <label for="raffleTitle">T√≠tulo da Rifa:</label>
                            <input type="text" id="raffleTitle" required placeholder="Ex: iPhone 15 Pro Max">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="rafflePrice">Valor por Cota (R$):</label>
                                <input type="number" id="rafflePrice" step="0.01" min="0.01" required placeholder="Ex: 15.00">
                            </div>
                            <div class="form-group">
                                <label for="raffleTotalNumbers">Total de Cotas:</label>
                                <input type="number" id="raffleTotalNumbers" min="1" required placeholder="Ex: 1000">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="raffleDescription">Descri√ß√£o/Regulamento:</label>
                            <textarea id="raffleDescription" required placeholder="Descreva o pr√™mio e as regras da rifa"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="raffleDrawDate">Data do Sorteio:</label>
                                <input type="date" id="raffleDrawDate" required>
                            </div>
                            <div class="form-group">
                                <label for="raffleIcon">√çcone (Emoji):</label>
                                <input type="text" id="raffleIcon" placeholder="Ex: üì±" maxlength="2">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="raffleImage">URL da Imagem (opcional):</label>
                            <input type="url" id="raffleImage" placeholder="https://exemplo.com/imagem.jpg">
                        </div>

                        <div class="form-group">
                            <label>Cotas Premiadas (opcional)</label>
                            <div id="awardedCotasContainer">
                                <button type="button" class="submit-btn" style="width: auto; margin-bottom: 1rem;" onclick="addAwardedCota()">+ Adicionar Cota Premiada</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="raffleHighlight"> Destacar como Rifa Principal
                            </label>
                        </div>

                        <button type="submit" class="submit-btn">Criar Rifa</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- WINNERS PAGE -->
    <div class="page" id="winners">
        <div class="container">
            <h2 class="page-title">üèÜ Ganhadores</h2>
            
            <div class="winners-list" id="winnersList">
                <!-- Ser√° preenchido dinamicamente -->
            </div>
        </div>
    </div>

    <!-- MY TICKETS PAGE -->
    <div class="page" id="my-tickets">
        <div class="container">
            <h2 class="page-title">üé´ Minhas Cotas</h2>
            
            <div class="search-box">
                <h3 style="color: var(--black); margin-bottom: 1rem;">Consultar Cotas por Email</h3>
                <div class="search-input">
                    <input type="email" id="emailSearch" placeholder="Digite seu email">
                    <button class="search-btn" onclick="searchTickets()">Buscar</button>
                </div>
                
                <div class="search-results" id="searchResults">
                    <h4 style="color: var(--primary-green); margin-bottom: 1rem;">Suas Cotas:</h4>
                    <div id="ticketsList">
                        <!-- Resultados aparecer√£o aqui -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- TERMS PAGE -->
    <div class="page" id="terms">
        <div class="container">
            <h2 class="page-title">üìã Termos de Uso</h2>
            
            <div class="terms-content">
                <h3>1. Aceita√ß√£o dos Termos</h3>
                <p>Ao acessar e usar este site, voc√™ aceita e concorda em ficar vinculado aos termos e condi√ß√µes de uso. Se voc√™ n√£o concordar com qualquer parte destes termos, n√£o deve usar nosso servi√ßo.</p>

                <h3>2. Descri√ß√£o do Servi√ßo</h3>
                <p>O RifaMax √© uma plataforma online que oferece servi√ßos de rifas eletr√¥nicas. Nosso objetivo √© proporcionar uma experi√™ncia segura e transparente para todos os participantes.</p>

                <h3>3. Elegibilidade</h3>
                <p>Para participar das rifas, voc√™ deve:</p>
                <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                    <li>Ter pelo menos 18 anos de idade</li>
                    <li>Fornecer informa√ß√µes verdadeiras e atualizadas</li>
                    <li>Possuir email v√°lido</li>
                    <li>Estar em conformidade com as leis locais</li>
                </ul>

                <h3>4. Como Funcionam as Rifas</h3>
                <p>As rifas s√£o sorteios onde os participantes compram n√∫meros para concorrer a pr√™mios. Os sorteios s√£o realizados de forma transparente e os resultados s√£o divulgados publicamente.</p>

                <h3>5. Pagamentos</h3>
                <p>Aceitamos pagamentos via PIX e cart√£o de cr√©dito/d√©bito. Todos os pagamentos s√£o processados de forma segura atrav√©s de nossos parceiros certificados.</p>

                <h3>6. Pr√™mios e Entrega</h3>
                <p>Os ganhadores ser√£o contatados atrav√©s dos dados fornecidos no cadastro. A entrega dos pr√™mios ser√° coordenada diretamente com o ganhador, respeitando os prazos estabelecidos.</p>

                <h3>7. Responsabilidades</h3>
                <p>O RifaMax se compromete a conduzir todos os sorteios de forma transparente e justa. Os participantes s√£o respons√°veis por fornecer dados corretos e manter suas informa√ß√µes atualizadas.</p>

                <h3>8. Privacidade</h3>
                <p>Respeitamos sua privacidade e protegemos seus dados pessoais de acordo com a Lei Geral de Prote√ß√£o de Dados (LGPD). Seus dados s√£o utilizados apenas para os fins relacionados aos servi√ßos oferecidos.</p>

                <h3>9. Modifica√ß√µes</h3>
                <p>Reservamo-nos o direito de modificar estes termos a qualquer momento. As altera√ß√µes entrar√£o em vigor imediatamente ap√≥s a publica√ß√£o no site.</p>

                <h3>10. Contato</h3>
                <p>Para d√∫vidas ou suporte, entre em contato conosco atrav√©s dos canais dispon√≠veis na p√°gina de contato.</p>

                <p style="margin-top: 2rem; font-weight: 600; color: var(--primary-green);">
                    √öltima atualiza√ß√£o: 24 de maio de 2025
                </p>
            </div>
        </div>
    </div>

    <!-- CONTACT PAGE -->
    <div class="page" id="contact">
        <div class="container">
            <h2 class="page-title">üìû Entre em Contato</h2>
            
            <div class="contact-form">
                <h3 style="margin-bottom: 1.5rem; color: var(--primary-green);">Envie sua Mensagem</h3>
                <form onsubmit="sendContact(event)">
                    <div class="form-group">
                        <label for="contactName">Nome Completo:</label>
                        <input type="text" id="contactName" required>
                    </div>
                    <div class="form-group">
                        <label for="contactEmail">E-mail:</label>
                        <input type="email" id="contactEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="contactPhone">Telefone:</label>
                        <input type="tel" id="contactPhone">
                    </div>
                    <div class="form-group">
                        <label for="contactSubject">Assunto:</label>
                        <input type="text" id="contactSubject" required>
                    </div>
                    <div class="form-group">
                        <label for="contactMessage">Mensagem:</label>
                        <textarea id="contactMessage" required></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Enviar Mensagem</button>
                </form>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-color);">
                    <h4 style="color: var(--primary-green); margin-bottom: 1rem;">Outras Formas de Contato:</h4>
                    <p><strong>üì± WhatsApp:</strong> (11) 99999-9999</p>
                    <p><strong>üìß E-mail:</strong> contato@rifamax.com.br</p>
                    <p><strong>üïí Hor√°rio de Atendimento:</strong> Segunda a Sexta, 9h √†s 18h</p>
                </div>
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <p>&copy; 2025 RifaMax. Todos os direitos reservados.</p>
        <p>Contato: (11) 99999-9999 | contato@rifamax.com.br</p>
        <div style="margin-top: 1rem;">
            <button onclick="showPage('admin')" style="background: none; border: 1px solid var(--primary-green); color: var(--primary-green); padding: 0.3rem 1rem; border-radius: 15px; cursor: pointer; font-size: 0.8rem;">Acesso Admin</button>
        </div>
    </div>
</footer>

<!-- Login Modal -->
<div class="modal" id="loginModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Entrar na Conta</h2>
            <button class="close-modal" onclick="closeModal('loginModal')">‚úï</button>
        </div>
        <form onsubmit="login(event)">
            <div class="form-group">
                <label for="emailInput">Email:</label>
                <input type="email" id="emailInput" placeholder="seu@email.com" required>
            </div>
            <div class="form-group">
                <label for="nameInput">Nome Completo:</label>
                <input type="text" id="nameInput" placeholder="Seu nome completo" required>
            </div>
            <button type="submit" class="submit-btn">Entrar</button>
        </form>
    </div>
</div>

<!-- Purchase Modal -->
<div class="modal" id="purchaseModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="purchaseTitle">Comprar N√∫meros</h2>
            <button class="close-modal" onclick="closeModal('purchaseModal')">‚úï</button>
        </div>
        
        <!-- Descri√ß√£o/Regulamento -->
        <div class="description-section">
            <h4>DESCRI√á√ÉO / REGULAMENTO</h4>
            <p id="raffleDescription">
                <!-- Ser√° preenchido dinamicamente -->
            </p>
        </div>

        <!-- Mensagem de N√∫meros Surpresa -->
        <div class="surprise-message">
            <div class="surprise-icon">üéÅ</div>
            <h4>N√∫meros Surpresa!</h4>
            <p>
                Os n√∫meros da sua cota ser√£o revelados apenas ap√≥s a confirma√ß√£o do pagamento.<br>
                Isso torna a experi√™ncia ainda mais emocionante!
            </p>
        </div>

        <!-- Sele√ß√£o de Quantidade -->
        <div class="quantity-section">
            <h4>SELECIONE A QUANTIDADE DE COTAS</h4>
            <div class="quantity-buttons">
                <button type="button" class="quantity-btn-option" onclick="setQuantity(1)">+1</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(5)">+5</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(10)">+10</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(100)">+100</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(1000)">+1000</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(5000)">+5000</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(10000)">+10000</button>
                <button type="button" class="quantity-btn-option" onclick="setQuantity(20000)">+20000</button>
            </div>
            
            <div class="quantity-selector">
                <button type="button" class="quantity-btn" onclick="decreaseQuantity()">-</button>
                <input type="number" class="quantity-display" id="quantity" value="1" min="1" onchange="updateQuantityFromInput()">
                <button type="button" class="quantity-btn" onclick="increaseQuantity()">+</button>
            </div>
        </div>

        <!-- Ranking -->
        <div class="ranking-section">
            <h4 class="ranking-title">RANKING</h4>
            <div class="ranking-list" id="rankingList">
                <!-- Ser√° preenchido dinamicamente -->
            </div>
        </div>

        <!-- Cotas Premiadas -->
        <div class="awarded-cotas" id="awardedCotasSection" style="display: none;">
            <h4 class="awarded-title">COTA PREMIADA</h4>
            <div class="awarded-list" id="awardedList">
                <!-- Ser√° preenchido dinamicamente -->
            </div>
        </div>

        <div class="total-price" id="totalPrice">
            Total: R$ 0,00
        </div>

        <div class="form-group">
            <label>Forma de Pagamento:</label>
            <div class="payment-methods">
                <div class="payment-method" onclick="selectPayment('pix')">
                    <div class="payment-icon">üì±</div>
                    <div>PIX</div>
                </div>
                <div class="payment-method" onclick="selectPayment('card')">
                    <div class="payment-icon">üí≥</div>
                    <div>Cart√£o</div>
                </div>
            </div>
        </div>

        <!-- PIX Payment -->
        <div class="pix-info" id="pixInfo">
            <h3>Pagamento via PIX</h3>
            <div class="pix-qr">üì±</div>
            <p>Escaneie o QR Code ou copie o c√≥digo PIX:</p>
            <div class="pix-code" id="pixCode">
                <!-- C√≥digo PIX ser√° gerado dinamicamente -->
            </div>
            <button class="copy-btn" onclick="copyPixCode()">Copiar C√≥digo PIX</button>
            <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
                Ap√≥s o pagamento, seus n√∫meros ser√£o revelados automaticamente.
            </p>
            <button type="button" class="submit-btn" style="margin-top: 1rem;" onclick="simulatePixPayment()">Simular Pagamento PIX</button>
        </div>

        <!-- Card Payment -->
        <div class="card-form" id="cardForm">
            <h3>Pagamento com Cart√£o</h3>
            <form onsubmit="processCardPayment(event)">
                <div class="form-group">
                    <label>N√∫mero do Cart√£o:</label>
                    <input type="text" id="cardNumber" placeholder="0000 0000 0000 0000" maxlength="19" required>
                </div>
                <div class="card-row">
                    <div class="form-group">
                        <label>Validade:</label>
                        <input type="text" id="cardExpiry" placeholder="MM/AA" maxlength="5" required>
                    </div>
                    <div class="form-group">
                        <label>CVV:</label>
                        <input type="text" id="cardCvv" placeholder="000" maxlength="3" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Nome no Cart√£o:</label>
                    <input type="text" id="cardName" placeholder="NOME COMO NO CART√ÉO" required>
                </div>
                <button type="submit" class="submit-btn">Finalizar Pagamento</button>
            </form>
        </div>
    </div>
</div>

<!-- Payment Success Modal -->
<div class="modal" id="successModal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Pagamento Confirmado!</h2>
            <button class="close-modal" onclick="closeModal('successModal')">‚úï</button>
        </div>
        
        <div class="payment-success">
            <div class="success-icon">‚úÖ</div>
            <h3>Parab√©ns! Sua compra foi realizada com sucesso!</h3>
            <p style="margin: 1rem 0;">Seus n√∫meros da sorte s√£o:</p>
            <div class="success-numbers" id="successNumbers">
                <!-- N√∫meros ser√£o mostrados aqui -->
            </div>
            <p style="margin-top: 1.5rem; color: #666;">
                Um email de confirma√ß√£o foi enviado para <strong id="confirmEmail"></strong>
            </p>
        </div>
        
        <button class="submit-btn" onclick="closeModal('successModal'); showPage('my-tickets');">Ver Minhas Cotas</button>
    </div>
</div>

<!-- Sales Details Modal -->
<div class="modal" id="salesDetailsModal">
    <div class="modal-content" style="max-width: 800px;">
        <div class="modal-header">
            <h2 class="modal-title" id="salesDetailsTitle">Detalhes de Vendas</h2>
            <button class="close-modal" onclick="closeModal('salesDetailsModal')">‚úï</button>
        </div>
        
        <div class="sales-summary" id="salesSummary">
            <!-- Resumo ser√° preenchido dinamicamente -->
        </div>
        
        <h4 style="margin: 1.5rem 0 1rem 0;">Vendas Detalhadas</h4>
        <div style="max-height: 400px; overflow-y: auto;">
            <table class="sales-table">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Email</th>
                        <th>N√∫meros</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody id="salesDetailsBody">
                    <!-- Ser√° preenchido dinamicamente -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    // Vari√°veis globais
    let currentUser = null;
    let currentRaffle = null;
    let selectedQuantity = 1;
    let selectedNumbers = [];
    let selectedPaymentMethod = null;

    // Base de dados (simulando backend)
    let raffleDatabase = {
        raffles: [],
        sales: [],
        winners: []
    };

    // Inicializar com algumas rifas de exemplo
    function initializeDatabase() {
        // Rifas de exemplo
        raffleDatabase.raffles = [
            {
                id: 1,
                title: 'Carro 0KM - Honda Civic',
                price: 25.00,
                totalNumbers: 500,
                soldNumbers: [1, 5, 12, 23, 45, 67, 89, 123, 156, 189, 234, 267, 289, 345, 378, 389, 423, 456, 467, 489],
                description: 'Concorra a um Honda Civic 0KM! Sorteio com auditoria independente.',
                drawDate: '2025-05-30',
                icon: 'üöó',
                isHighlight: true,
                status: 'active',
                createdAt: new Date('2025-04-01'),
                ranking: [
                    { name: 'Thiago Gon√ßalves de Souza', cotas: 3475 },
                    { name: 'Caio jardim', cotas: 2809 },
                    { name: 'Jef√£o', cotas: 1800 }
                ],
                awardedCotas: [
                    { prize: 50, number: 157, sold: true, owner: 'Jef√£o' },
                    { prize: 50, number: 244, sold: false },
                    { prize: 50, number: 1500, sold: false },
                    { prize: 100, number: 2000, sold: false },
                    { prize: 50, number: 2715, sold: true, owner: 'Jef√£o' },
                    { prize: 50, number: 9103, sold: false }
                ]
            },
            {
                id: 2,
                title: 'iPhone 15 Pro Max',
                price: 15.00,
                totalNumbers: 300,
                soldNumbers: [3, 7, 15, 28, 34, 56, 78, 92, 103, 145, 167, 189, 201, 234, 256, 278, 289],
                description: 'iPhone 15 Pro Max 256GB - Lacrado com garantia Apple!',
                drawDate: '2025-05-28',
                icon: 'üì±',
                isHighlight: false,
                status: 'active',
                createdAt: new Date('2025-04-10'),
                ranking: [
                    { name: 'Maria Silva', cotas: 1250 },
                    { name: 'Jo√£o Santos', cotas: 980 },
                    { name: 'Pedro Lima', cotas: 750 }
                ],
                awardedCotas: [
                    { prize: 30, number: 100, sold: false },
                    { prize: 30, number: 200, sold: true, owner: 'Maria Silva' },
                    { prize: 50, number: 300, sold: false }
                ]
            },
            {
                id: 3,
                title: 'R$ 10.000 em Dinheiro',
                price: 10.00,
                totalNumbers: 1000,
                soldNumbers: Array.from({length: 890}, (_, i) => i + 1),
                description: 'R$ 10.000 em dinheiro via PIX! Sorteio pela Loteria Federal.',
                drawDate: '2025-05-25',
                icon: 'üí∞',
                isHighlight: false,
                status: 'active',
                createdAt: new Date('2025-04-05'),
                ranking: [
                    { name: 'Ana Costa', cotas: 5420 },
                    { name: 'Roberto Dias', cotas: 4200 },
                    { name: 'Carla Mendes', cotas: 3890 }
                ],
                awardedCotas: [
                    { prize: 100, number: 500, sold: true, owner: 'Ana Costa' },
                    { prize: 100, number: 1000, sold: false }
                ]
            },
            {
                id: 4,
                title: 'TV Samsung 65" QLED',
                price: 18.00,
                totalNumbers: 250,
                soldNumbers: Array.from({length: 250}, (_, i) => i + 1),
                description: 'TV Samsung 65" QLED 4K com garantia de 2 anos',
                drawDate: '2025-04-15',
                icon: 'üì∫',
                isHighlight: false,
                status: 'finished',
                createdAt: new Date('2025-03-01'),
                winner: { name: 'Fernanda M.', email: 'f***a@yahoo.com', number: 198 }
            }
        ];

        // Vendas de exemplo
        raffleDatabase.sales = [
            {
                id: 1,
                raffleId: 1,
                customer: { name: 'Jo√£o Silva', email: 'joao@gmail.com' },
                numbers: [23, 156, 289],
                amount: 75.00,
                paymentMethod: 'pix',
                date: new Date('2025-05-20T10:30:00'),
                status: 'confirmed'
            },
            {
                id: 2,
                raffleId: 2,
                customer: { name: 'Maria Santos', email: 'maria@hotmail.com' },
                numbers: [78],
                amount: 15.00,
                paymentMethod: 'card',
                date: new Date('2025-05-18T14:20:00'),
                status: 'confirmed'
            }
        ];

        // Ganhadores de exemplo
        raffleDatabase.winners = [
            {
                raffleTitle: 'TV Samsung 65" QLED',
                winner: 'Fernanda M.',
                email: 'f***a@yahoo.com',
                number: 198,
                date: '15/04/2025',
                prizeValue: 'R$ 6.000,00'
            },
            {
                raffleTitle: 'Joia de R$ 25.000',
                winner: 'Roberto S.',
                email: 'r***o@gmail.com',
                number: 89,
                date: '20/03/2025',
                prizeValue: 'R$ 25.000,00'
            }
        ];
    }

    // Fun√ß√µes de navega√ß√£o
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
        });
        
        document.getElementById(pageId).classList.add('active');
        
        // Atualizar dados quando mostrar p√°gina admin
        if (pageId === 'admin') {
            updateAdminDashboard();
        }
        
        // Renderizar rifas quando mostrar home
        if (pageId === 'home') {
            renderRaffles();
        }
        
        // Renderizar ganhadores
        if (pageId === 'winners') {
            renderWinners();
        }
        
        window.scrollTo(0, 0);
    }

    // Fun√ß√µes de navega√ß√£o mobile
    function toggleMobileMenu() {
        const sidebar = document.querySelector('.mobile-sidebar');
        const overlay = document.querySelector('.mobile-overlay');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
    }

    function closeMobileMenu() {
        const sidebar = document.querySelector('.mobile-sidebar');
        const overlay = document.querySelector('.mobile-overlay');
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
    }

    // Fun√ß√µes de modal
    function openLoginModal() {
        document.getElementById('loginModal').classList.add('active');
    }

    function openPurchaseModal(raffleId) {
        if (!currentUser) {
            alert('Voc√™ precisa fazer login primeiro!');
            openLoginModal();
            return;
        }

        const raffle = raffleDatabase.raffles.find(r => r.id === raffleId);
        if (!raffle) return;

        currentRaffle = raffle;

        // Atualizar informa√ß√µes da rifa
        document.getElementById('purchaseTitle').textContent = `Comprar - ${raffle.title}`;
        document.getElementById('raffleDescription').innerHTML = raffle.description;
        
        // Atualizar ranking
        updateRanking(raffle.ranking || []);
        
        // Atualizar cotas premiadas
        if (raffle.awardedCotas && raffle.awardedCotas.length > 0) {
            document.getElementById('awardedCotasSection').style.display = 'block';
            updateAwardedCotas(raffle.awardedCotas);
        } else {
            document.getElementById('awardedCotasSection').style.display = 'none';
        }

        document.getElementById('purchaseModal').classList.add('active');
        updatePurchaseDisplay();
    }

    function updateRanking(ranking) {
        const rankingList = document.getElementById('rankingList');
        if (ranking.length === 0) {
            rankingList.innerHTML = '<p style="text-align: center; color: #666;">Nenhuma venda ainda</p>';
            return;
        }
        
        const medals = ['ü•á', 'ü•à', 'ü•â'];
        rankingList.innerHTML = ranking.slice(0, 3).map((item, index) => `
            <div class="ranking-item">
                <div class="ranking-medal">${medals[index]}</div>
                <div class="ranking-name">${item.name}</div>
                <div class="ranking-cotas"><strong>${item.cotas.toLocaleString()}</strong> cotas</div>
            </div>
        `).join('');
    }

    function updateAwardedCotas(awardedCotas) {
        const awardedList = document.getElementById('awardedList');
        awardedList.innerHTML = awardedCotas.map(cota => `
            <div class="awarded-item">
                <div class="awarded-prize">
                    <span class="prize-label">Pr√™mio - ${cota.prize} R$</span>
                </div>
                <span class="cota-status ${cota.sold ? 'cota-sold' : 'cota-available'}">
                    ${cota.sold ? 'Comprado' : 'Dispon√≠vel'}
                </span>
                <span class="cota-number">Cota ${String(cota.number).padStart(5, '0')}</span>
                ${cota.sold && cota.owner ? `<span class="user-tag">üë§ ${cota.owner}</span>` : ''}
            </div>
        `).join('');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
        if (modalId === 'purchaseModal') {
            resetPurchaseForm();
        }
    }

    // Fun√ß√£o de login
    function login(event) {
        event.preventDefault();
        const email = document.getElementById('emailInput').value;
        const name = document.getElementById('nameInput').value;

        if (!validateEmail(email)) {
            alert('Email inv√°lido!');
            return;
        }

        currentUser = { email: email, name: name };
        
        // Atualizar interface
        document.getElementById('userName').textContent = name;
        document.getElementById('userEmail').textContent = email;
        document.getElementById('userInfo').classList.add('active');
        
        // Atualizar bot√µes de auth
        const authBtn = document.getElementById('authBtn');
        const mobileAuthBtn = document.getElementById('mobileAuthBtn');
        
        authBtn.textContent = 'Sair';
        authBtn.onclick = logout;
        mobileAuthBtn.textContent = 'Sair';
        mobileAuthBtn.onclick = logout;

        closeModal('loginModal');
        alert('Login realizado com sucesso!');
    }

    function logout() {
        currentUser = null;
        document.getElementById('userInfo').classList.remove('active');
        
        const authBtn = document.getElementById('authBtn');
        const mobileAuthBtn = document.getElementById('mobileAuthBtn');
        
        authBtn.textContent = 'Entrar';
        authBtn.onclick = openLoginModal;
        mobileAuthBtn.textContent = 'Entrar';
        mobileAuthBtn.onclick = openLoginModal;
        
        alert('Logout realizado com sucesso!');
    }

    // Valida√ß√£o de Email
    function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    }

    // Fun√ß√µes de compra
    function setQuantity(qty) {
        selectedQuantity = qty;
        document.getElementById('quantity').value = qty;
        
        // Atualizar bot√µes selecionados
        document.querySelectorAll('.quantity-btn-option').forEach(btn => {
            btn.classList.remove('selected');
        });
        event.target.classList.add('selected');
        
        updatePurchaseDisplay();
    }

    function updateQuantityFromInput() {
        const input = document.getElementById('quantity');
        selectedQuantity = parseInt(input.value) || 1;
        if (selectedQuantity < 1) {
            selectedQuantity = 1;
            input.value = 1;
        }
        updatePurchaseDisplay();
    }

    function increaseQuantity() {
        selectedQuantity++;
        document.getElementById('quantity').value = selectedQuantity;
        updatePurchaseDisplay();
    }

    function decreaseQuantity() {
        if (selectedQuantity > 1) {
            selectedQuantity--;
            document.getElementById('quantity').value = selectedQuantity;
            updatePurchaseDisplay();
        }
    }

    function updatePurchaseDisplay() {
        const total = currentRaffle.price * selectedQuantity;
        document.getElementById('totalPrice').textContent = `Total: R$ ${total.toFixed(2).replace('.', ',')}`;
    }

    // Fun√ß√µes de pagamento
    function selectPayment(method) {
        selectedPaymentMethod = method;
        
        // Atualizar visual dos bot√µes
        document.querySelectorAll('.payment-method').forEach(btn => {
            btn.classList.remove('selected');
        });
        event.target.closest('.payment-method').classList.add('selected');

        // Mostrar/esconder formas de pagamento
        document.getElementById('pixInfo').classList.remove('active');
        document.getElementById('cardForm').classList.remove('active');

        if (method === 'pix') {
            document.getElementById('pixInfo').classList.add('active');
            generatePixCode();
        } else if (method === 'card') {
            document.getElementById('cardForm').classList.add('active');
        }
    }

    function generatePixCode() {
        const total = currentRaffle.price * selectedQuantity;
        const timestamp = Date.now();
        const pixCode = `00020126580014BR.GOV.BCB.PIX0136123e4567-e12b-12d1-a456-426614174000520400005303986540${total.toFixed(2)}5802BR5925RIFAMAX LTDA6009SAO PAULO62140510RIFA${timestamp}6304`;
        document.getElementById('pixCode').textContent = pixCode;
    }

    function copyPixCode() {
        const pixCode = document.getElementById('pixCode').textContent;
        navigator.clipboard.writeText(pixCode).then(() => {
            alert('C√≥digo PIX copiado para a √°rea de transfer√™ncia!');
        });
    }

    function generateRandomNumbers() {
        const availableNumbers = [];
        
        // Gerar lista de n√∫meros dispon√≠veis
        for (let i = 1; i <= currentRaffle.totalNumbers; i++) {
            if (!currentRaffle.soldNumbers.includes(i)) {
                availableNumbers.push(i);
            }
        }

        // Selecionar n√∫meros aleat√≥rios
        selectedNumbers = [];
        for (let i = 0; i < selectedQuantity && availableNumbers.length > 0; i++) {
            const randomIndex = Math.floor(Math.random() * availableNumbers.length);
            const selectedNumber = availableNumbers.splice(randomIndex, 1)[0];
            selectedNumbers.push(selectedNumber);
        }

        // Ordenar n√∫meros
        selectedNumbers.sort((a, b) => a - b);

        return selectedNumbers;
    }

    function simulatePixPayment() {
        processPayment('pix');
    }

    function processCardPayment(event) {
        event.preventDefault();
        
        const cardNumber = document.getElementById('cardNumber').value;
        const cardExpiry = document.getElementById('cardExpiry').value;
        const cardCvv = document.getElementById('cardCvv').value;
        const cardName = document.getElementById('cardName').value;

        const loadingBtn = event.target.querySelector('button[type="submit"]');
        loadingBtn.textContent = 'Processando...';
        loadingBtn.disabled = true;

        setTimeout(() => {
            processPayment('card');
            loadingBtn.textContent = 'Finalizar Pagamento';
            loadingBtn.disabled = false;
        }, 2000);
    }

    function processPayment(method) {
        // Gerar n√∫meros aleat√≥rios
        const numbers = generateRandomNumbers();
        
        // Adicionar n√∫meros vendidos √† rifa
        const raffle = raffleDatabase.raffles.find(r => r.id === currentRaffle.id);
        raffle.soldNumbers.push(...numbers);
        
        // Criar venda
        const sale = {
            id: raffleDatabase.sales.length + 1,
            raffleId: currentRaffle.id,
            customer: { name: currentUser.name, email: currentUser.email },
            numbers: numbers,
            amount: currentRaffle.price * selectedQuantity,
            paymentMethod: method,
            date: new Date(),
            status: 'confirmed'
        };
        
        raffleDatabase.sales.push(sale);
        
        // Mostrar modal de sucesso
        showPaymentSuccess(numbers);
        closeModal('purchaseModal');
    }

    function showPaymentSuccess(numbers) {
        document.getElementById('confirmEmail').textContent = currentUser.email;
        
        const numbersContainer = document.getElementById('successNumbers');
        numbersContainer.innerHTML = numbers.map(num => 
            `<span class="success-number">${num.toString().padStart(4, '0')}</span>`
        ).join('');
        
        document.getElementById('successModal').classList.add('active');
    }

    function resetPurchaseForm() {
        selectedQuantity = 1;
        selectedNumbers = [];
        selectedPaymentMethod = null;
        
        document.getElementById('quantity').value = 1;
        
        document.querySelectorAll('.payment-method').forEach(btn => {
            btn.classList.remove('selected');
        });
        
        document.querySelectorAll('.quantity-btn-option').forEach(btn => {
            btn.classList.remove('selected');
        });
        
        document.getElementById('pixInfo').classList.remove('active');
        document.getElementById('cardForm').classList.remove('active');
    }

    // Buscar tickets do usu√°rio
    function searchTickets() {
        const email = document.getElementById('emailSearch').value;
        const results = document.getElementById('searchResults');
        const ticketsList = document.getElementById('ticketsList');
        
        if (!validateEmail(email)) {
            alert('Email inv√°lido!');
            return;
        }

        // Buscar vendas do usu√°rio
        const userSales = raffleDatabase.sales.filter(sale => 
            sale.customer.email.toLowerCase() === email.toLowerCase()
        );
        
        if (userSales.length > 0) {
            ticketsList.innerHTML = userSales.map(sale => {
                const raffle = raffleDatabase.raffles.find(r => r.id === sale.raffleId);
                return `
                    <div class="winner-card">
                        <div class="winner-prize">${raffle.title}</div>
                        <div class="winner-info">
                            <strong>N√∫meros:</strong> ${sale.numbers.map(n => n.toString().padStart(4, '0')).join(', ')}<br>
                            <strong>Data da Compra:</strong> ${sale.date.toLocaleDateString('pt-BR')}<br>
                            <strong>Status:</strong> ${raffle.status === 'active' ? 'Ativo' : 'Finalizado'}<br>
                            <strong>Valor:</strong> R$ ${sale.amount.toFixed(2).replace('.', ',')}
                        </div>
                    </div>
                `;
            }).join('');
            results.classList.add('active');
        } else {
            ticketsList.innerHTML = '<p style="text-align: center; color: #666;">Nenhuma cota encontrada para este email.</p>';
            results.classList.add('active');
        }
    }

    // Admin Functions
    function showAdminTab(tab) {
        // Atualizar tabs
        document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        
        // Mostrar conte√∫do
        document.querySelectorAll('.admin-content').forEach(c => c.classList.remove('active'));
        document.getElementById(`admin-${tab}`).classList.add('active');
        
        // Atualizar dados espec√≠ficos
        if (tab === 'dashboard') {
            updateAdminDashboard();
        } else if (tab === 'raffles') {
            updateRafflesTable();
        } else if (tab === 'sales') {
            updateSalesTable();
        }
    }

    function updateAdminDashboard() {
        // Calcular estat√≠sticas
        let totalSales = 0;
        let totalTickets = 0;
        let activeRaffles = 0;
        let customers = new Set();
        
        raffleDatabase.sales.forEach(sale => {
            totalSales += sale.amount;
            totalTickets += sale.numbers.length;
            customers.add(sale.customer.email);
        });
        
        raffleDatabase.raffles.forEach(raffle => {
            if (raffle.status === 'active') activeRaffles++;
        });
        
        // Atualizar display
        document.getElementById('totalSales').textContent = `R$ ${totalSales.toFixed(2).replace('.', ',')}`;
        document.getElementById('totalTickets').textContent = totalTickets.toLocaleString();
        document.getElementById('totalCustomers').textContent = customers.size;
        document.getElementById('activeRaffles').textContent = activeRaffles;
    }

    function updateRafflesTable() {
        const tbody = document.getElementById('rafflesTableBody');
        tbody.innerHTML = raffleDatabase.raffles.map(raffle => {
            const revenue = raffle.soldNumbers.length * raffle.price;
            const percentage = ((raffle.soldNumbers.length / raffle.totalNumbers) * 100).toFixed(1);
            
            return `
                <tr>
                    <td>#${raffle.id}</td>
                    <td>${raffle.icon} ${raffle.title}</td>
                    <td>R$ ${raffle.price.toFixed(2).replace('.', ',')}</td>
                    <td>${raffle.soldNumbers.length}</td>
                    <td>${raffle.totalNumbers}</td>
                    <td>R$ ${revenue.toFixed(2).replace('.', ',')}</td>
                    <td>
                        <span class="status-badge ${raffle.status === 'active' ? 'status-active' : 'status-finished'}">
                            ${raffle.status === 'active' ? 'Ativa' : 'Finalizada'} (${percentage}%)
                        </span>
                    </td>
                    <td>
                        <button class="submit-btn" style="width: auto; padding: 0.5rem 1rem;" 
                                onclick="viewRaffleDetails(${raffle.id})">
                            Ver Detalhes
                        </button>
                    </td>
                </tr>
            `;
        }).join('');
    }

    function updateSalesTable() {
        const tbody = document.getElementById('salesTableBody');
        const recentSales = raffleDatabase.sales.slice(-10).reverse(); // √öltimas 10 vendas
        
        tbody.innerHTML = recentSales.map(sale => {
            const raffle = raffleDatabase.raffles.find(r => r.id === sale.raffleId);
            return `
                <tr>
                    <td>${sale.date.toLocaleString('pt-BR')}</td>
                    <td>${sale.customer.name}</td>
                    <td>${raffle.title}</td>
                    <td>${sale.numbers.map(n => n.toString().padStart(4, '0')).join(', ')}</td>
                    <td>R$ ${sale.amount.toFixed(2).replace('.', ',')}</td>
                    <td>${sale.paymentMethod === 'pix' ? 'PIX' : 'Cart√£o'}</td>
                    <td>
                        <span class="status-badge status-active">
                            ${sale.status === 'confirmed' ? 'Confirmado' : 'Pendente'}
                        </span>
                    </td>
                </tr>
            `;
        }).join('');
    }

    function viewRaffleDetails(raffleId) {
        const raffle = raffleDatabase.raffles.find(r => r.id === raffleId);
        const raffleSales = raffleDatabase.sales.filter(s => s.raffleId === raffleId);
        
        // Calcular resumo
        const totalRevenue = raffleSales.reduce((sum, sale) => sum + sale.amount, 0);
        const totalNumbersSold = raffle.soldNumbers.length;
        const percentage = ((totalNumbersSold / raffle.totalNumbers) * 100).toFixed(1);
        
        // Atualizar modal
        document.getElementById('salesDetailsTitle').textContent = `Detalhes - ${raffle.title}`;
        
        // Resumo
        document.getElementById('salesSummary').innerHTML = `
            <div class="summary-item">
                <div class="summary-label">Total Arrecadado</div>
                <div class="summary-value">R$ ${totalRevenue.toFixed(2).replace('.', ',')}</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">N√∫meros Vendidos</div>
                <div class="summary-value">${totalNumbersSold}/${raffle.totalNumbers}</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Progresso</div>
                <div class="summary-value">${percentage}%</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">Total de Vendas</div>
                <div class="summary-value">${raffleSales.length}</div>
            </div>
        `;
        
        // Detalhes das vendas
        document.getElementById('salesDetailsBody').innerHTML = raffleSales.map(sale => `
            <tr>
                <td>${sale.date.toLocaleDateString('pt-BR')}</td>
                <td>${sale.customer.name}</td>
                <td>${sale.customer.email}</td>
                <td>${sale.numbers.map(n => n.toString().padStart(4, '0')).join(', ')}</td>
                <td>R$ ${sale.amount.toFixed(2).replace('.', ',')}</td>
            </tr>
        `).join('');
        
        document.getElementById('salesDetailsModal').classList.add('active');
    }

    // Criar Nova Rifa
    let awardedCotasCount = 0;

    function addAwardedCota() {
        awardedCotasCount++;
        const container = document.getElementById('awardedCotasContainer');
        const div = document.createElement('div');
        div.className = 'form-row';
        div.style.marginBottom = '1rem';
        div.innerHTML = `
            <div class="form-group">
                <input type="number" id="awardedNumber${awardedCotasCount}" 
                       placeholder="N√∫mero da cota" min="1" required>
            </div>
            <div class="form-group">
                <input type="number" id="awardedPrize${awardedCotasCount}" 
                       placeholder="Valor do pr√™mio (R$)" min="1" step="0.01" required>
            </div>
        `;
        container.insertBefore(div, container.firstChild);
    }

    function createRaffle(event) {
        event.preventDefault();
        
        // Coletar dados do formul√°rio
        const title = document.getElementById('raffleTitle').value;
        const price = parseFloat(document.getElementById('rafflePrice').value);
        const totalNumbers = parseInt(document.getElementById('raffleTotalNumbers').value);
        const description = document.getElementById('raffleDescription').value;
        const drawDate = document.getElementById('raffleDrawDate').value;
        const icon = document.getElementById('raffleIcon').value || 'üéÅ';
        const imageUrl = document.getElementById('raffleImage').value;
        const isHighlight = document.getElementById('raffleHighlight').checked;
        
        // Coletar cotas premiadas
        const awardedCotas = [];
        for (let i = 1; i <= awardedCotasCount; i++) {
            const numberInput = document.getElementById(`awardedNumber${i}`);
            const prizeInput = document.getElementById(`awardedPrize${i}`);
            if (numberInput && prizeInput && numberInput.value && prizeInput.value) {
                awardedCotas.push({
                    number: parseInt(numberInput.value),
                    prize: parseFloat(prizeInput.value),
                    sold: false
                });
            }
        }
        
        // Se for destacada, remover destaque das outras
        if (isHighlight) {
            raffleDatabase.raffles.forEach(r => r.isHighlight = false);
        }
        
        // Criar nova rifa
        const newRaffle = {
            id: raffleDatabase.raffles.length + 1,
            title,
            price,
            totalNumbers,
            soldNumbers: [],
            description,
            drawDate,
            icon,
            imageUrl,
            isHighlight,
            status: 'active',
            createdAt: new Date(),
            ranking: [],
            awardedCotas
        };
        
        raffleDatabase.raffles.push(newRaffle);
        
        alert('Rifa criada com sucesso!');
        event.target.reset();
        awardedCotasCount = 0;
        document.getElementById('awardedCotasContainer').innerHTML = 
            '<button type="button" class="submit-btn" style="width: auto; margin-bottom: 1rem;" onclick="addAwardedCota()">+ Adicionar Cota Premiada</button>';
        
        // Atualizar tabelas
        showAdminTab('raffles');
        renderRaffles();
    }

    // Renderizar Rifas
    function renderRaffles() {
        // Rifa Principal
        const mainRaffle = raffleDatabase.raffles.find(r => r.isHighlight && r.status === 'active');
        const mainContainer = document.getElementById('mainRaffleContainer');
        
        if (mainRaffle) {
            const soldCount = mainRaffle.soldNumbers.length;
            const percentage = (soldCount / mainRaffle.totalNumbers * 100).toFixed(0);
            
            mainContainer.innerHTML = `
                <div class="main-raffle-card">
                    <div class="main-raffle-badge">DESTAQUE</div>
                    ${mainRaffle.imageUrl ? 
                        `<img src="${mainRaffle.imageUrl}" alt="${mainRaffle.title}" style="width: 100%; height: 300px; object-fit: cover; border-radius: 20px; margin-bottom: 2rem;">` :
                        `<div class="main-raffle-image">${mainRaffle.icon}</div>`
                    }
                    <h3 class="main-raffle-title">${mainRaffle.title}</h3>
                    <div class="main-raffle-price">R$ ${mainRaffle.price.toFixed(2).replace('.', ',')}</div>
                    <div class="campaign-info">
                        <span><strong>Vendidos:</strong> ${soldCount}/${mainRaffle.totalNumbers}</span>
                        <span><strong>Sorteio:</strong> ${new Date(mainRaffle.drawDate).toLocaleDateString('pt-BR')}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${percentage}%"></div>
                    </div>
                    <button class="buy-button" onclick="openPurchaseModal(${mainRaffle.id})">Comprar N√∫meros</button>
                </div>
            `;
        } else {
            mainContainer.innerHTML = '<p style="text-align: center; color: #666;">Nenhuma rifa em destaque no momento.</p>';
        }
        
        // Outras Campanhas
        const otherRaffles = raffleDatabase.raffles.filter(r => !r.isHighlight || r.status !== 'active');
        const campaignsGrid = document.getElementById('campaignsGrid');
        
        campaignsGrid.innerHTML = otherRaffles.map(raffle => {
            const soldCount = raffle.soldNumbers.length;
            const percentage = (soldCount / raffle.totalNumbers * 100).toFixed(0);
            const isFinished = raffle.status === 'finished';
            
            return `
                <div class="campaign-card fade-in ${isFinished ? 'finished' : ''}">
                    ${raffle.imageUrl ? 
                        `<img src="${raffle.imageUrl}" alt="${raffle.title}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 15px; margin-bottom: 1.5rem;">` :
                        `<div class="campaign-image">${raffle.icon}</div>`
                    }
                    <h3 class="campaign-title">${raffle.title}</h3>
                    <div class="campaign-price">R$ ${raffle.price.toFixed(2).replace('.', ',')}</div>
                    <div class="campaign-info">
                        <span>${isFinished ? 'Finalizada' : `Vendidos: ${soldCount}/${raffle.totalNumbers}`}</span>
                        <span>Sorteio: ${new Date(raffle.drawDate).toLocaleDateString('pt-BR')}</span>
                    </div>
                    ${isFinished && raffle.winner ? `
                        <div class="winner-info">
                            <h4>üéâ Ganhador:</h4>
                            <p><strong>${raffle.winner.name}</strong></p>
                            <p class="winner-number">N¬∫ ${raffle.winner.number.toString().padStart(4, '0')}</p>
                        </div>
                    ` : `
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${percentage}%"></div>
                        </div>
                    `}
                    <button class="buy-button" ${isFinished ? 'disabled' : `onclick="openPurchaseModal(${raffle.id})"`}>
                        ${isFinished ? 'Rifa Finalizada' : 'Comprar N√∫meros'}
                    </button>
                </div>
            `;
        }).join('');
    }

    // Renderizar Ganhadores
    function renderWinners() {
        const winnersList = document.getElementById('winnersList');
        
        if (raffleDatabase.winners.length === 0) {
            winnersList.innerHTML = '<p style="text-align: center; color: #666;">Nenhum ganhador ainda.</p>';
            return;
        }
        
        winnersList.innerHTML = raffleDatabase.winners.map(winner => `
            <div class="winner-card">
                <div class="winner-prize">${winner.raffleTitle}</div>
                <div class="winner-info">
                    <strong>Ganhador:</strong> ${winner.winner} (Email: ${winner.email})<br>
                    <strong>N√∫mero:</strong> ${winner.number.toString().padStart(4, '0')} | 
                    <strong>Data:</strong> ${winner.date}<br>
                    <strong>Valor do Pr√™mio:</strong> ${winner.prizeValue}
                </div>
            </div>
        `).join('');
    }

    // Enviar contato
    function sendContact(event) {
        event.preventDefault();
        
        const name = document.getElementById('contactName').value;
        const email = document.getElementById('contactEmail').value;
        const phone = document.getElementById('contactPhone').value;
        const subject = document.getElementById('contactSubject').value;
        const message = document.getElementById('contactMessage').value;
        
        // Simula√ß√£o de envio
        const submitBtn = event.target.querySelector('button[type="submit"]');
        submitBtn.textContent = 'Enviando...';
        submitBtn.disabled = true;
        
        setTimeout(() => {
            alert('Mensagem enviada com sucesso! Entraremos em contato em breve.');
            event.target.reset();
            submitBtn.textContent = 'Enviar Mensagem';
            submitBtn.disabled = false;
        }, 2000);
    }

    // Formata√ß√£o de inputs de cart√£o
    document.addEventListener('DOMContentLoaded', function() {
        const cardNumber = document.getElementById('cardNumber');
        const cardExpiry = document.getElementById('cardExpiry');
        const cardCvv = document.getElementById('cardCvv');
        
        if (cardNumber) {
            cardNumber.addEventListener('input', function(e) {
                let value = e.target.value.replace(/[^\d]/g, '');
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
            });
        }

        if (cardExpiry) {
            cardExpiry.addEventListener('input', function(e) {
                let value = e.target.value.replace(/[^\d]/g, '');
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value;
            });
        }

        if (cardCvv) {
            cardCvv.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/[^\d]/g, '');
            });
        }
        
        // Inicializar banco de dados
        initializeDatabase();
        renderRaffles();
    });

    // Anima√ß√£o do header no scroll
    window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (window.scrollY > 100) {
            header.style.background = 'rgba(0, 0, 0, 0.98)';
        } else {
            header.style.background = 'rgba(0, 0, 0, 0.95)';
        }
    });

    // Anima√ß√£o de entrada dos elementos
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.animation = 'fadeInUp 0.8s ease forwards';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
    });

    // Atualiza√ß√£o din√¢mica das barras de progresso
    function updateProgressBars() {
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach(bar => {
            const width = bar.style.width;
            bar.style.width = '0%';
            setTimeout(() => {
                bar.style.width = width;
            }, 500);
        });
    }

    // Inicializar quando a p√°gina carregar
    window.addEventListener('load', () => {
        setTimeout(updateProgressBars, 1000);
    });

    // Fechar modal ao clicar fora
    window.addEventListener('click', (e) => {
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => {
            if (e.target === modal) {
                modal.classList.remove('active');
                resetPurchaseForm();
            }
        });
    });
</script>
</body>
</html>